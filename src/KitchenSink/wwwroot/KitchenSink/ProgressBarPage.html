<template>
    <template is="dom-bind">
        <h4>Running expensive tasks in background</h4>
        <p>
            This example demonstrates how to run expensive tasks in background. The key feature is that session is not locket, but still updated as task progresses.
        </p>
        <p>
            Read more about <code>Scheduling.ScheduleTask</code> and <code>Session.ScheduleTask</code> on starcounter.io - <a href="http://starcounter.io/guides/transactions/running-background-jobs/">Running background jobs</a>.
        </p>
        <div class="kitchensink-progress-bar__container">
            <span class="kitchensink-progress-bar__percentages"> {{model.Progress}}% </span>
            <div class="kitchensink-progress-bar__fill" style="width:{{model.Progress}}%"></div>
        </div>
        <p>
            <button class="btn btn-sm btn-default kitchensink-progress-bar__button" value="{{model.StartProgress$::click}}" onmousedown="++this.value" disabled$="{{model.TaskIsRunnning}}"> {{model.DownloadButtonText}} </button>
            <template is="dom-if" if="{{model.Progress}}">
                <span>{{model.FileDownloadText}}</span>
            </template>
        </p>
    </template>
</template>